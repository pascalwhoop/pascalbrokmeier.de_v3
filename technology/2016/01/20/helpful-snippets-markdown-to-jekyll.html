<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Helpful snippets for writing a Post with markdown first and then moving it to a jekyll blog</title>
  <meta name="description" content="A bunch of snippets and regex stuff to help me move files automatically after I am done summarising university classes.">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
  <link rel="canonical" href="http://pascalbrokmeier.de">
  <link rel="alternate" type="application/rss+xml" title="Homepage of Pascal Brokmeier" href="/feed.xml">

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-55919824-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-55919824-7');
</script>

  <!-- Begin Jekyll SEO tag v2.6.0 -->
<title>Helpful snippets for writing a Post with markdown first and then moving it to a jekyll blog | Homepage of Pascal Brokmeier</title>
<meta name="generator" content="Jekyll v3.8.4" />
<meta property="og:title" content="Helpful snippets for writing a Post with markdown first and then moving it to a jekyll blog" />
<meta name="author" content="Pascal Brokmeier" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A bunch of snippets and regex stuff to help me move files automatically after I am done summarising university classes." />
<meta property="og:description" content="A bunch of snippets and regex stuff to help me move files automatically after I am done summarising university classes." />
<link rel="canonical" href="http://pascalbrokmeier.de/technology/2016/01/20/helpful-snippets-markdown-to-jekyll.html" />
<meta property="og:url" content="http://pascalbrokmeier.de/technology/2016/01/20/helpful-snippets-markdown-to-jekyll.html" />
<meta property="og:site_name" content="Homepage of Pascal Brokmeier" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-01-20T00:00:00+01:00" />
<script type="application/ld+json">
{"description":"A bunch of snippets and regex stuff to help me move files automatically after I am done summarising university classes.","@type":"BlogPosting","headline":"Helpful snippets for writing a Post with markdown first and then moving it to a jekyll blog","dateModified":"2016-01-20T00:00:00+01:00","url":"http://pascalbrokmeier.de/technology/2016/01/20/helpful-snippets-markdown-to-jekyll.html","datePublished":"2016-01-20T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://pascalbrokmeier.de/technology/2016/01/20/helpful-snippets-markdown-to-jekyll.html"},"author":{"@type":"Person","name":"Pascal Brokmeier"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!--<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <style media="screen">
      #netlify-identity-widget{
          z-index: 999;
      }
  </style>-->
</head>


  <body>
      <!-- Header -->
      <header id="header" class="reveal">
    <a href="/index.html" class="logo"><strong>PB</strong></a>
    <nav>
        <a href="#menu">Menu</a>
    </nav>
</header>
<!-- <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Homepage of Pascal Brokmeier</a>

    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
            <a class="page-link" href="/about/">About me</a>
            
          
            
            
            <a class="page-link" href="/contact/">Get in contact</a>
            
          
            
            
          
            
            
            <a class="page-link" href="/legal/">Impressum</a>
            
          
            
            
          
            
            
            <a class="page-link" href="/portfolio/">Portfolio</a>
            
          
            
            
            <a class="page-link" href="/posts/">Blog</a>
            
          
            
            
            <a class="page-link" href="/readinglist/">Reading list</a>
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header> -->

      <div id="wrapper">

          <!--  Menu  -->
          <!-- Menu -->
    <nav id="menu">
        <ul class="links">
            <li><a href="/">Home</a></li>
            <li><a href="/posts">Blog</a></li>
            <!--<li><a href="portfolio">Portfolio</a></li>-->
            <li><a href="/about">About me</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="https://unsplash.com/@pascalwhoop" target="_blank" class="">Photography</a></li>
            <li><a href="https://github.com/pascalwhoop" target="_blank" class="">Github</a></li>
            <li><a href="/admin">Login</a></li>
        </ul>

    </nav>


          <section id="post" class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="banner">
        
    </div>


    <div class="inner">
        <header class="major">
            <h1 itemprop="name headline">Helpful snippets for writing a Post with markdown first and then moving it to a jekyll blog</h1>
            <p class="post-meta">
                <time datetime="2016-01-20T00:00:00+01:00" itemprop="datePublished">
                    
                    Jan 20, 2016
                </time>
                
                • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Pascal Brokmeier</span></span>
                
            </p>
        </header>

        <div class="post-content" itemprop="articleBody">
            <h3 id="mathjax">MathJax</h3>

<p>I want to use MathJAX in my posts to include better looking formulas. I included mathjax with and I’m using browser-sync to keep my scroll position locked for longer articles</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">async</span> <span class="na">src=</span><span class="s">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></figure>

<p>to include it into my html. Then</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">  \`x = (-b +- sqrt(b^2-4ac))/(2a) .\`</code></pre></figure>

<p>to get
<script type="math/tex">x = (-b +- sqrt(b^2-4ac))/(2a)</script></p>

<h3 id="a-shell-script-to-move-my-written-summary-over-to-my-blog">A shell script to move my written summary over to my blog</h3>

<p><del>Is not needed anymore thanks to auto scroll</del>
I know write all my summaries directly in my blog repository and live-view it on the website instead of Marked 2. This works because I now scroll automatically to my last position on a reload. With MDL this didn’t work, because there was a <a href="https://github.com/google/material-design-lite/issues/1120">bug (also on Github)</a>. But Thanks to this snippet:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// FIX scroll bug (live-serve usually scrolls back but MDL has its own layout stuff which makes things complicated)</span>
<span class="c1">//...</span>
<span class="k">this</span><span class="p">.</span><span class="nx">blocked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="k">this</span><span class="p">.</span><span class="nx">resetScrollState</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="kd">var</span> <span class="nx">mainScrollArea</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">'mdl-layout__content'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
            <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">==</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">'lastUrl'</span><span class="p">))</span> <span class="p">{</span>
                    <span class="nx">mainScrollArea</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">'scrollTop'</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">'lastUrl'</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
                    <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">'scrollTop'</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>


            <span class="nx">mainScrollArea</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'scroll'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">that</span><span class="p">.</span><span class="nx">blocked</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">'scrollTop'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">);</span>
                    <span class="nx">that</span><span class="p">.</span><span class="nx">blocked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                        <span class="nx">that</span><span class="p">.</span><span class="nx">blocked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">},</span> <span class="mi">200</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">});</span>
        <span class="p">};</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">resetScrollState</span><span class="p">;</span></code></pre></figure>

<p>it doesn’t happen anymore and I can always keep going where I left off when i press ⌘ + s</p>

<h3 id="regex-for-copy--replacing-in-markdown-documents">Regex for copy / replacing in markdown documents</h3>

<h4 id="changing-images-sources">changing images sources</h4>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="se">\(</span><span class="o">([</span>0-9]<span class="k">*</span><span class="se">\.</span>png<span class="o">)</span><span class="se">\)</span>

replace e.g. with 

<span class="o">(</span><span class="se">\/</span>images<span class="se">\/</span>2016-02-02-social-computational-media-summary<span class="se">\/</span><span class="nv">$1</span><span class="o">)</span></code></pre></figure>

<h4 id="make-all-questions-headlines">make all questions headlines</h4>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">//selector <span class="k">for </span>sublime regex filter
<span class="se">\n</span><span class="o">([</span>0-9]<span class="o">{</span>1,2<span class="o">}</span><span class="se">\.</span><span class="o">)</span>
//replace
<span class="se">\n</span><span class="c">#### $1</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">//replace multimarkdown subscript with html subscript
~<span class="o">([</span>a-z0-9]<span class="k">*</span><span class="o">)</span>~
//replace
&lt;sub&gt;<span class="nv">$1</span>&lt;/sub&gt;</code></pre></figure>

<p><del>
<strong>parse markdown and make it usable for Ankidroid</strong>
</del></p>

<p>This is not applicable anymore. Instead I use Javascript to parse the DOM and generate a CSV. Details in the custom.js file in this repository</p>

<p><del>
assuming we have markdown written with headline level 4 or 5 as questions and answers afterwards, this regex can select and group our texts so we can convert it to a csv:
</del></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#{4,5}(.*)([^#]*)</span></code></pre></figure>


        </div>
    </div>

</section>


      </div>

      <footer id="footer">
    <div class="inner">
        <h3>Homepage of Pascal Brokmeier</h3>
        <p>Check out my about page for more, read my blog or watch me code on YouTube or just take a picture of mine for your wallpaper. I share everything for free and really enjoy good conversations about meaningful topics. Let me know if you have something to talk about.
</p>
        <ul class="icons">

            
            <li><a href="mailto:public@pascalbrokmeier.de" class="icon alt fa-envelope"></a></li>
            
            
            <li><a href="https://twitter.com/PascalBrokmeier" class="icon alt fa-twitter" rel="me"><span class="label">Twitter</span></a>
            </li>
            
            
            <li><a href="https://github.com/pascalwhoop" class="icon alt fa-github" rel="me"><span class="label">GitHub</span></a>
            </li>
            
            <!--
            <li><a href="#" class="icon alt fa-facebook"><span class="label">Facebook</span></a></li>
            <li><a href="#" class="icon alt fa-instagram"><span class="label">Instagram</span></a></li>
            <li><a href="#" class="icon alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
            -->

        </ul>
        <ul class="copyright">
            <li><span class="copyleft">&copy;</span>
                
                Homepage of Pascal Brokmeier
                
            </li>
            <li>Design: some of <a href="https://html5up.net">HTML5 UP</a> adopted by me</li>
            <li><a href="/sitemap.xml">Sitemap</a></li>
            <li><a href="/legal">Legal</a></li>
        </ul>
    </div>
</footer>

<script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
<script src="/assets/js/jquery.scrolly.min.js"></script>
<script src="/assets/js/jquery.scrollex.min.js"></script>
<script src="/assets/js/skel.min.js"></script>
<script src="/assets/js/util.js"></script>
<script src="/assets/js/articles.js"></script>
<!--[if lte IE 8]>
<script  src="assets/js/ie/respond.min.js"></script><![endif]-->
<script src="/assets/js/main.js"></script>


<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>



  </body>

</html>
